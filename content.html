<h1 id="comrad">Comrad</h1>
<p>Comrad is a social<em>ist</em> network: encrypted, insurveillable, unmontizeable, and self-governing. Meet fellow comrades, communicate confidentially, organize groups securely, discuss freely -- and help take back the internet from Big Tech. Sieze the means of digital production!</p>
<h2 id="why-another-social-network">Why another social network?</h2>
<p>Is a 'socialist network' possible? Although the internet began with anarchic design principles, it quickly consolidated into the hands of a few of the largest corporations in the world. It has effectively recreated the capitalist mode of production within itself: the means of content production (social media platforms) are privatized while the work of production (posting) remains socially distributed. Exploitation inheres in that relation, whether in the industrial factory or the digital platform, because the value you produce is taken from you, concentrated and privatized.</p>
<p>But a digital network can be redesigned. The technology behind these social media platforms is actually quite simple. We can easily build our own social network, one which is secure, insurveillable, and unmonetizable—one which would give people the security they need to communicate about whatever they want, including protesting against capital and the state.</p>
<h2 id="core-principles">Core principles</h2>
<h3 id="confidential">Confidential</h3>
<p>All of your data are strongly encrypted end-to-end: only you and those you write to can decrypt and read it. To anyone without the right decryption 'key', the data is nonsense.</p>
<h3 id="untraceable">Untraceable</h3>
<p>All network traffic is routed through Tor, a &quot;deep web&quot; of computers so dense even the FBI can't follow you through it. Comrad's &quot;Operator&quot; or central server is accessible only from Tor. It's impossible to tell who is sending what to whom, or even who is using the app at all.</p>
<h3 id="unmonetizable">Unmonetizable</h3>
<p>What's untraceable is also unmonetizable: your data can't be harvested by technology companies and used for advertising algorithms. You're protected from both surveillance capitalism and the surveillance state.</p>
<h3 id="democratized">Democratized</h3>
<p>Group accounts or 'collectives', like <span class="citation">@portland</span> or <span class="citation">@socialists</span>, grow as existing members 'vouch for' new ones, forming webs of trust. In order to join a group, at least one member must vouch for you; this minimum (or 'quorum') may grow as the group grows, or in accordance with a 'constitution' which the group votes upon.</p>
<h3 id="semi-decentralized">(Semi-)decentralized</h3>
<p>Data is deleted as soon as possible from Comrad. Comrad's &quot;Operator&quot; simply sorts and holds the mail temporarily: as soon as users log in to download their mail, the messages are deleted from the server and network forever.</p>
<h3 id="open-source">Open-source</h3>
<p>Information wants to be communist.</p>
<h3 id="anti-profit">Anti-profit</h3>
<p>Not just non-profit, we're anti-profit.</p>
<h2 id="social-media-features">Social media features</h2>
<p>We present a simplified set of social media features drawn from everything that's out there:</p>
<h4 id="profile">Profile</h4>
<ul>
<li>Curate a profile with photo and posts (e.g. Twitter)</li>
<li>Show profile to world (e.g. Twitter)</li>
<li>Show profile only to those you trust (e.g. Facebook)</li>
<li>Show profile only to your local area (e.g. Nextdoor)</li>
</ul>
<h4 id="posting">Posting</h4>
<ul>
<li>Post up to 1 image and/or 1000 characters</li>
<li>Post to the entire world (e.g. Twitter) ✔</li>
<li>Post to those you trust (e.g. Facebook)</li>
<li>Post to your surrounding area by a distance radius (e.g. Nextdoor)</li>
<li>Anonymously up-vote or down-vote posts (e.g. Reddit)</li>
</ul>
<h4 id="organizing">Organizing</h4>
<ul>
<li>Host events and invite others (e.g. Facebook)</li>
<li>Host events like protests anonymously (new)</li>
<li>Anonymously pin on a map sites of danger, like police (e.g. Waze)</li>
</ul>
<h4 id="messaging">Messaging</h4>
<ul>
<li>Message securely with encrypted contents (e.g. Signal) ✔</li>
<li>Message with untraceable metadata via Tor (new) ✔</li>
</ul>
<h2 id="how-is-this-different-from-...">How is this different from ...?</h2>
<p>See <a href="https://github.com/ComradOrg/Comrad/wiki/Comparison-of-alternative-social-networks">&quot;Comparison of alternative social networks&quot; on the wiki</a> for an attempt at a systematic comparison. (And please help edit, if you can! The data there is a little incomplete and probably a little inaccurate.) But here are some imagined differences:</p>
<ul>
<li><p><strong>It's not (fully) decentralized.</strong> Who's afraid of a little central planning? In contrast to <a href="https://scuttlebutt.nz/">Secure Scuttlebutt</a> and <a href="https://cabal.chat/">Cabal Chat</a>, which are 100% decentralized, subsisting only through peer-to-peer connections, Comrad sticks with the old, client/server model. Why?</p></li>
<li><p><strong>It <em>is</em> anonymous.</strong> Because P2P networks almost always expose your IP address: they privilege decentralization over anonymity -- and, potentially, safety. By contrast, lying hidden within the deep web of Tor, accessible only from this application and its built-in Tor client, Comrad will never reveal who is accessing it and its encrypted information. This is important for comrades organizing protests against the surveillance state, and to protect our social media traffic from being harvested and monetized by surveillance capitalism.</p></li>
<li><p><strong>It's 100% end-to-end encrypted.</strong> Unlike <a href="https://joinmastodon.org/">Mastodon</a> or <a href="https://diasporafoundation.org/">Diaspora</a>, direct messages between users and within groups remain encrypted 1:1 end-to-end among users. Posts to the public are encrypted to <span class="citation">@Comrades</span>, a special account which automatically re-encrypts its messages back to any key-registered requester of them.</p></li>
<li><p><strong>It verifies identities.</strong> Comrad's server, &quot;The Operator&quot;, keeps a permanent record of one thing only: every comrad's name and public key, and requires that new comrades choose a unique name. Whenever you send or receive mail, the Operator will make sure that the name and public key on the letter matches what it has on file, verifying the identity of both parties.</p></li>
<li><p><strong>It's (semi-)ephemeral.</strong> Data, like all natural things, should not last forever. Direct messages auto-delete from the server as soon as they are downloaded. Group messages are sent as direct messages through the &quot;web of trust&quot; of the group membership network. Posts to the world auto-delete in however many days you specify. By contrast, data on both <a href="https://scuttlebutt.nz/">SSB</a> and <a href="https://matrix.org/">Matrix</a> is undeletable.</p></li>
<li><p><strong>It's easy to use.</strong> No invitation or server is needed on startup, unlike <a href="https://scuttlebutt.nz/">SSB</a>, <a href="https://joinmastodon.org/">Mastodon</a>, <a href="https://diasporafoundation.org/">Diaspora</a>, or <a href="https://briarproject.org/">Briar</a>. It's basically a Twitter clone, but one where you can also post to a universal feed shared by the entire world (<span class="citation">@Comrades</span>), so that you can make yourself known, participate in general discussions, find new contacts, and organize new groups.</p></li>
</ul>
<h2 id="progress">Progress</h2>
<h3 id="animations-from-mobiledesktop-app">Animations from mobile/desktop app</h3>
<h4 id="registering-and-connecting-through-tor">Registering and connecting through Tor</h4>
<p><img src="comrad/app/assets/comrad-screen-preview-2020-09-27.gif" alt="GIF animation" height="600" /></p>
<h4 id="navigating-posts">Navigating posts</h4>
<p><img src="comrad/app/assets/comrad-screen-preview-2020-08-23.gif" alt="GIF animation" height="600" /></p>
<h3 id="animations-from-terminal-app">Animations from terminal app</h3>
<h4 id="connecting-through-tor">Connecting through Tor</h4>
<p><img src="comrad/app/assets/comrad-terminal-preview--2020-09-20--tor.gif" alt="GIF animation of Tor connection" /></p>
<h4 id="meeting-exchanging-public-keys">&quot;Meeting&quot; (exchanging public keys)</h4>
<p><img src="comrad/app/assets/comrad-terminal-preview--2020-09-16--meet.gif" alt="GIF animation of meeting process" /></p>
<h4 id="messaging-1">Messaging</h4>
<p><img src="comrad/app/assets/comrad-terminal-preview--2020-09-16--msg.gif" alt="GIF animation of messaging" /></p>
<h3 id="posting-1">Posting</h3>
<p><img src="comrad/app/assets/comrad-terminal-preview--2020-09-19--posting.gif" alt="GIF animation of posting" /></p>
<h2 id="usage">Usage</h2>
<h3 id="install">Install</h3>
<h4 id="on-mac-osx">...on Mac OSX</h4>
<p>Download and run <a href="https://github.com/ComradOrg/Comrad/raw/master/script/InstallComrad.app.zip">this installer</a>.</p>
<h4 id="on-linux-or-windows">...on Linux or Windows</h4>
<p>Open a terminal in Linux, or a <a href="https://cygwin.com/install.html">Cygwin shell</a> in Windows, and copy and paste the following line into it:</p>
<pre><code>bash &lt;(curl -s https://comrad.app/run)</code></pre>
<p><a href="https://comrad.app/run">That</a>'s a shortcut to <a href="https://github.com/ComradOrg/Comrad/blob/master/script/install">this auto-installer script</a>. It installs Comrad in a virtual Python environment in the folder &quot;comrad&quot; in your home directory.</p>
<h3 id="run">Run</h3>
<h4 id="on-mac-osx-1">...on Mac OSX</h4>
<p>Install <a href="#on-mac-osx">as above</a>.</p>
<p>Run &quot;Comrad.app&quot; in your Applications folder.</p>
<h4 id="on-linux-or-windows-1">...on Linux or Windows</h4>
<p>Open a terminal in Linux, or a <a href="https://cygwin.com/install.html">Cygwin shell</a> in Windows, and type:</p>
<pre><code>comrad-app</code></pre>
<p>If that doesn't work, try:</p>
<pre><code>~/comrad/code/bin/comrad-app</code></pre>
<p>If that still doesn't work, try pasting the following lines:</p>
<pre><code>source ~/comrad/lib/miniconda3/etc/profile.d/conda.sh
export PATH=&quot;~/comrad/lib/miniconda3/bin:$PATH&quot;
conda activate ~/comrad/code/venv
python -m pip install -r ~/comrad/code/requirements.txt
python ~/comrad/code/comrad/app/main.py</code></pre>
<h4 id="running-terminal-client">Running terminal client</h4>
<p>For the terminal client (which may be broken at the moment), run:</p>
<pre><code>comrad-cli   # or: ~/comrad/code/bin/comrad-cli</code></pre>
<p>or, if necessary, paste the following lines:</p>
<pre><code>source ~/comrad/lib/miniconda3/etc/profile.d/conda.sh
export PATH=&quot;~/comrad/lib/miniconda3/bin:$PATH&quot;
conda activate ~/comrad/code/venv
python -m pip install -r ~/comrad/code/requirements.txt
python ~/comrad/code/comrad/cli/cli.py</code></pre>
<h4 id="running-server-development-only">Running server (development only)</h4>
<p>To run The Operator server (for development purposes only), run:</p>
<pre><code>comrad-op   # or: ~/comrad/code/bin/comrad-op</code></pre>
<p>or, if necessary, paste the following lines:</p>
<pre><code>source ~/comrad/lib/miniconda3/etc/profile.d/conda.sh
export PATH=&quot;~/comrad/lib/miniconda3/bin:$PATH&quot;
conda activate ~/comrad/code/venv
python -m pip install -r ~/comrad/code/requirements.txt
python ~/comrad/code/comrad/backend/switchboard.py</code></pre>
<h2 id="details">Details</h2>
<h3 id="frontend">Frontend</h3>
<h4 id="mobiledesktop">Mobile/desktop</h4>
<p>The mobile/desktop app is made with <a href="https://github.com/kivymd/KivyMD">KivyMD</a>, a variant of <a href="https://kivy.org/">Kivy</a>, a cross-platform app development framework in Python. Python is an easy and versatile progamming language to learn, which keeps the code accessible to as many people as possible. Code for the app is in <a href="comrad/app" class="uri">comrad/app</a>.</p>
<h4 id="terminal-app">Terminal app</h4>
<p>Vanilla Python. Code is in <a href="comrad/cli" class="uri">comrad/cli</a>.</p>
<h3 id="backend">Backend</h3>
<h4 id="api">API</h4>
<p>Plain old object-oriented code in Python. The root entity is a &quot;Keymaker&quot;: anyone from <span class="citation">@Telephone</span>, to <span class="citation">@Operator</span>, to users, to groups, who has a public/private key pair. The database uses a simple file-based key-value store using the Redis protocol: <a href="https://github.com/seppo0010/rlite">rlite</a>, via its <a href="https://github.com/seppo0010/rlite-py">rlite-py</a> Python bindings. All code for backend/API is in <a href="comrad/backend" class="uri">comrad/backend</a>.</p>
<h4 id="cryptography">Cryptography</h4>
<p>We are using <a href="https://github.com/cossacklabs/themis">Themis</a>, a high-level cross-platform cryptography library, for all cryptographic functions, rather than handling any primitives ourselves. Installing it from packages is tricky, so right now the <a href="#install">auto-installer</a> builds it from sources.</p>
<p>Crypto-related code is primarily in:</p>
<ul>
<li><p><a href="comrad/backend/keymaker.py" class="uri">comrad/backend/keymaker.py</a></p></li>
<li><p><a href="comrad/backend/comrades.py" class="uri">comrad/backend/comrades.py</a></p></li>
<li><p><a href="comrad/backend/phonelines.py" class="uri">comrad/backend/phonelines.py</a></p></li>
</ul>
